@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * YEHA Design System — Clean, Minimal, Square-Inspired
 * Font: Outfit (sans), Lora (brand only)
 * Palette: Slate-950/Emerald-500
 */

:root {
  --sidebar-width: 256px;
  --sidebar-collapsed: 64px;
  --header-height: 57px;
}

/* Base */
body {
  font-size: 15px;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Focus visible for keyboard nav - Accessibility */
*:focus-visible {
  outline: 2px solid #10b981;
  outline-offset: 2px;
  border-radius: 4px;
}

/* Respect prefers-reduced-motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: more) {
  *:focus-visible {
    outline-width: 3px;
    outline-offset: 3px;
  }
}

/* Dark mode preference */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
  }
}

/* Scrollbar - Accessibility & UX */
.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
  background-clip: padding-box;
}

/* Firefox scrollbar */
.custom-scrollbar {
  scrollbar-color: #cbd5e1 transparent;
  scrollbar-width: thin;
}
.custom-scrollbar:hover {
  scrollbar-color: #94a3b8 transparent;
}

@layer components {
  /* ========== CARD COMPONENTS ========== */
  
  /* Card — clean, bordered, no shadow by default */
  .card {
    @apply bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 transition-colors duration-150;
  }

  /* Card interactive */
  .card-interactive {
    @apply card cursor-pointer hover:border-slate-300 dark:hover:border-slate-600 hover:shadow-card transition-all duration-150;
  }

  /* Card premium — kept as alias for backward compat, same as card */
  .card-premium {
    @apply card relative overflow-hidden;
  }
  .card-premium:hover {
    /* no lift animation */
  }

  /* ========== BUTTON COMPONENTS ========== */
  
  /* Buttons */
  .btn-primary {
    @apply px-4 py-2.5 bg-emerald-600 dark:bg-emerald-700 text-white text-sm font-medium rounded-lg
      transition-colors duration-150
      hover:bg-emerald-700 dark:hover:bg-emerald-600
      active:bg-emerald-800 dark:active:bg-emerald-500
      disabled:opacity-50 disabled:cursor-not-allowed
      focus-visible:ring-2 focus-visible:ring-emerald-500/30 focus-visible:ring-offset-2
      dark:focus-visible:ring-emerald-500/50 dark:focus-visible:ring-offset-slate-900
      motion-safe:transition-all motion-reduce:transition-none;
  }

  .btn-secondary {
    @apply px-4 py-2.5 bg-white dark:bg-slate-700 text-slate-700 dark:text-white text-sm font-medium rounded-lg
      border border-slate-200 dark:border-slate-600
      transition-colors duration-150
      hover:bg-slate-50 dark:hover:bg-slate-600
      active:bg-slate-100 dark:active:bg-slate-500
      disabled:opacity-50 disabled:cursor-not-allowed
      focus-visible:ring-2 focus-visible:ring-slate-500/20 focus-visible:ring-offset-2
      dark:focus-visible:ring-slate-500/50 dark:focus-visible:ring-offset-slate-900
      motion-safe:transition-all motion-reduce:transition-none;
  }

  .btn-danger {
    @apply px-4 py-2.5 bg-red-600 dark:bg-red-700 text-white text-sm font-medium rounded-lg
      transition-colors duration-150
      hover:bg-red-700 dark:hover:bg-red-600
      active:bg-red-800 dark:active:bg-red-500
      disabled:opacity-50 disabled:cursor-not-allowed
      focus-visible:ring-2 focus-visible:ring-red-500/30 focus-visible:ring-offset-2
      dark:focus-visible:ring-red-500/50 dark:focus-visible:ring-offset-slate-900
      motion-safe:transition-all motion-reduce:transition-none;
  }

  .btn-ghost {
    @apply px-4 py-2.5 text-slate-700 dark:text-slate-300 text-sm font-medium rounded-lg
      transition-colors duration-150
      hover:bg-slate-100 dark:hover:bg-slate-700
      active:bg-slate-200 dark:active:bg-slate-600
      disabled:opacity-50 disabled:cursor-not-allowed
      focus-visible:ring-2 focus-visible:ring-slate-500/20 focus-visible:ring-offset-2
      dark:focus-visible:ring-slate-500/50 dark:focus-visible:ring-offset-slate-900
      motion-safe:transition-all motion-reduce:transition-none;
  }

  /* Legacy button aliases — mapped to clean styles */
  .btn-emerald {
    @apply btn-primary;
  }
  .btn-teal {
    @apply px-4 py-2.5 bg-teal-600 dark:bg-teal-700 text-white text-sm font-medium rounded-lg
      transition-colors duration-150
      hover:bg-teal-700 dark:hover:bg-teal-600
      disabled:opacity-50 disabled:cursor-not-allowed
      focus-visible:ring-2 focus-visible:ring-teal-500/30 focus-visible:ring-offset-2
      dark:focus-visible:ring-teal-500/50 dark:focus-visible:ring-offset-slate-900;
  }
  .btn-cyan {
    @apply px-4 py-2.5 bg-cyan-600 dark:bg-cyan-700 text-white text-sm font-medium rounded-lg
      transition-colors duration-150
      hover:bg-cyan-700 dark:hover:bg-cyan-600
      disabled:opacity-50 disabled:cursor-not-allowed
      focus-visible:ring-2 focus-visible:ring-cyan-500/30 focus-visible:ring-offset-2
      dark:focus-visible:ring-cyan-500/50 dark:focus-visible:ring-offset-slate-900;
  }
  .btn-slate {
    @apply px-4 py-2.5 bg-slate-900 dark:bg-slate-700 text-white text-sm font-medium rounded-lg
      transition-colors duration-150
      hover:bg-slate-800 dark:hover:bg-slate-600
      disabled:opacity-50 disabled:cursor-not-allowed
      focus-visible:ring-2 focus-visible:ring-slate-900/20 focus-visible:ring-offset-2
      dark:focus-visible:ring-slate-500/50 dark:focus-visible:ring-offset-slate-900;
  }

  /* ========== FORM COMPONENTS ========== */
  
  /* Input */
  .input {
    @apply w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-900 dark:text-white
      transition-colors duration-150 placeholder:text-slate-400 dark:placeholder:text-slate-500
      focus:border-emerald-500 dark:focus:border-emerald-500
      focus:ring-2 focus:ring-emerald-500/20 dark:focus:ring-emerald-500/30 focus:outline-none
      disabled:bg-slate-50 dark:disabled:bg-slate-900
      disabled:text-slate-500 dark:disabled:text-slate-400
      disabled:cursor-not-allowed opacity-60;
  }

  /* Select */
  .select {
    @apply input appearance-none cursor-pointer bg-right bg-no-repeat;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23334155' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-size: 1.25em 1.25em;
    padding-right: 2.5rem;
  }

  /* Textarea */
  .textarea {
    @apply input resize-none;
  }

  /* ========== BADGE COMPONENTS ========== */
  
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
      transition-colors duration-150;
  }
  .badge-success {
    @apply bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300;
  }
  .badge-warning {
    @apply bg-amber-50 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300;
  }
  .badge-error {
    @apply bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300;
  }
  .badge-info {
    @apply bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300;
  }

  /* ========== STATE COMPONENTS ========== */
  
  /* Loading skeleton */
  .skeleton {
    @apply bg-slate-200 dark:bg-slate-700 rounded-lg
      animate-pulse motion-safe:animate-pulse motion-reduce:animate-none;
  }

  /* Disabled state for interactive elements */
  [aria-disabled="true"] {
    @apply opacity-50 cursor-not-allowed pointer-events-none;
  }
}

/* ========== UTILITIES ========== */

@layer utilities {
  .page-enter {
    animation: fadeIn 0.15s ease-out;
  }

  /* Text selection enhancement */
  .selection-enhanced::selection {
    @apply bg-emerald-500/30 text-inherit;
  }

  /* Visually hidden but accessible to screen readers */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Focus ring for custom focus styles */
  .focus-ring {
    @apply focus-visible:ring-2 focus-visible:ring-emerald-500/30 focus-visible:ring-offset-2
      dark:focus-visible:ring-emerald-500/50 dark:focus-visible:ring-offset-slate-900;
  }

  /* Tap target size (minimum 44px) */
  .tap-target {
    min-width: 2.75rem;
    min-height: 2.75rem;
  }

  /* High contrast text */
  .text-contrast-high {
    @apply text-slate-900 dark:text-white;
  }

  /* Smooth transitions for motion-safe users */
  .transition-smooth {
    @apply motion-safe:transition-all motion-safe:duration-150 motion-reduce:transition-none;
  }
}

/* Legacy class stubs — prevent errors, render nothing special */
.noise-texture::after {
  display: none;
}
.glass-effect {
  /* no-op */
}
.shadow-premium {
  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.04), 0 1px 2px -1px rgb(0 0 0 / 0.04);
}

@layer utilities {
  .page-enter {
    animation: fadeIn 0.15s ease-out;
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}